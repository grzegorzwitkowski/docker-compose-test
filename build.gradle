plugins {
    id "java"
    id "application"
}

apply plugin: "java"
apply plugin: "application"

group "com.github.grzegorzwitkowski"
version "1.0-SNAPSHOT"

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile "org.springframework.boot:spring-boot-starter-web:1.4.1.RELEASE"
    compile "org.springframework.data:spring-data-mongodb:1.9.4.RELEASE"
}

mainClassName = "com.github.grzegorzwitkowski.dockercomposetest.Main"

distZip {
    doLast {
        copy {
            from "build/distributions/${project.name}-${project.version}.zip"
            into "docker/api"
        }
    }
}

clean {
    doFirst {
        delete fileTree("docker/api/") {
            include "${project.name}*.zip"
        }
    }
}
